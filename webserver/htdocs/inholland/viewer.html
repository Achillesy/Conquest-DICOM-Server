<html lang="en">
  <head>

	<title> Multi-observer viewer </title>
    <meta charset="utf-8">
  </head>

  <body> 
    <script type="text/javascript" src="js/misc.js"></script>
 	<script type="text/javascript" src="js/viewerBase.js"></script>
  	<script type="text/javascript">
		window.patient=gup('patient') || "ih_test_1";
		window.session=gup('session') || 1;
		
		changePatientData(patient);
		
		var h = document.createElement("H1"); // Create the H1 element 
		var t = document.createTextNode("Exploring patient: ".concat(patient)); // Create a text element 
		h.appendChild(t); // Append the text node to the H1 element 
		document.body.appendChild(h); // Append the H1 element to the document body 
	</script>
  
<div>
  	<script type="text/javascript">
		// common code to add arrays as options.
		function createOptionsFromArray(arrayVal){
			var opt = document.createElement('option');
			opt.appendChild( document.createTextNode(arrayVal) );
			opt.value = arrayVal;
			sel.appendChild(opt); // should be set before calling forEach with this function!!
		}
	</script>

	<label for="strSelect">Select structures:</label>
	<select id="strSelect" onchange="changeSelectedStructures(this.value)"> 
		<option selected value="*all">All</option>
	</select> <br>
	<script type="text/javascript">
		var sel = document.getElementById("strSelect");
		var strcnames = getStructureNames();
		strcnames.forEach(createOptionsFromArray);
	</script>
	

	<label for="GSSelect">Select golden standards:</label>
	<select id="GSSelect" onchange="changeSelectedGS(this.value)"> </select> <br>
  	<script type="text/javascript">
		var gsnames = getGSNames();
		gsnames.push("-None");
		var sel = document.getElementById("GSSelect");
		gsnames.forEach(createOptionsFromArray);
	</script>


	<label for="obsSelect">Select observer:</label>
	<select id="obsSelect" onchange="changeSelectedObs(this.value)">
	  <option selected value="*all">All</option>
	</select> <br>
  	<script type="text/javascript">
		var obsNames = getObsNames();
		obsNames.push("-None");
		var sel = document.getElementById("obsSelect");
		obsNames.forEach(createOptionsFromArray);
	</script>
</div>

  <div>
  
	<label for="SliceNr">Slice number: </label><input type="range" id="SliceNr" name="SliceNr" value="1" min="1" max="10" oninput="changeSlide(this.value)"><br>
  </div>
  <br>  
  
  <p id="GoldenStandardNames"> Golden Standards: </p>
  <p id="ObserversNames"> Observers: </p>
  
  <div style="position: relative;">
	<canvas id="canvasCT"  width="512" height="512" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
	<canvas id="canvasObs" width="512" height="512" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
	<canvas id="canvasGS"  width="512" height="512" style="position: absolute; left: 0; top: 0; z-index: 2;"></canvas>
  </div>
  
  <p id="DebugInfo"> </p>
  <p id="List"> </p>
  
  
  	<script type="text/javascript">
		
	//function readCTInfo(){

		var ele = document.getElementById("SliceNr");
		ele.setAttribute("max", getNrOfSlices());
		ele.setAttribute("value", Math.round(getNrOfSlices()/2))
		changeSlide(ele.value-1);
	//} 
	</script>
  
  </body>
  
</html>
